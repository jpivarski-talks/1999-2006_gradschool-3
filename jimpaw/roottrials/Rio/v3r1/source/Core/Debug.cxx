//////////////////////////////////////////////////////////////////////////////
// Simple class to do instance counting.
//////////////////////////////////////////////////////////////////////////////


// this :
#include <Rio/Core/Debug.h>

#include <Rio/Core/Out.h>

int Rio::Debug::fCount = 0;

//////////////////////////////////////////////////////////////////////////////
void Rio::Debug::increment(
)
//////////////////////////////////////////////////////////////////////////////
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!//
{
  fCount++;
}
//////////////////////////////////////////////////////////////////////////////
void Rio::Debug::decrement(
)
//////////////////////////////////////////////////////////////////////////////
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!//
{
  fCount--;
}
//////////////////////////////////////////////////////////////////////////////
Rio::Debug::Debug(
)
//////////////////////////////////////////////////////////////////////////////
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!//
{
  increment();
}
//////////////////////////////////////////////////////////////////////////////
Rio::Debug::~Debug(
)
//////////////////////////////////////////////////////////////////////////////
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!//
{
  decrement();
}
//////////////////////////////////////////////////////////////////////////////
void Rio::Debug::check(
 IPrinter& aPrinter
)
//////////////////////////////////////////////////////////////////////////////
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!//
{
  if(fCount) {
    Out out(aPrinter);
    out << "Rio::Debug : bad object balance : " << fCount << endl;
  }
}
